<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <title>Soule</title>

</head>
<body>
	<div class="container">
		<div class="content">
			<center>
				<img class="click-image" src="https://images.pexels.com/photos/2747421/pexels-photo-2747421.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/974229/pexels-photo-974229.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/15662974/pexels-photo-15662974/free-photo-of-fresh-ripe-figs.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/2907428/pexels-photo-2907428.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/102104/pexels-photo-102104.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/2629173/pexels-photo-2629173.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/47305/bananas-banana-shrub-fruits-yellow-47305.jpeg" />
				<img class="click-image" src="https://images.pexels.com/photos/822647/pexels-photo-822647.jpeg" />
			</center>
		</div>
	</div>

	<textarea id="textbox" style="width: 300px; height: 600px; display: none;">
To: <user@domain.demo>, <user2@domain.demo>, <user3@domain.demo>
Subject: Subject
X-Unsent: 1
Content-Type: text/html

<html>
<head>
<style>
    body, html, table {
        font-family: Calibri, Arial, sans-serif;
    }
</style>
</head>
<body>
<table width=100%>
	<tr>
		<td><img src="REPLACETHIS" alt="" width="500" height="500"></td>
	</tr>
</table>
</body>
</html>
</textarea>

<a download="message.eml" id="downloadlink" style="display: none">Download</a>

<script>
const images = document.getElementsByClassName('click-image');

var textFile = null,
makeTextFile = function (text) {
	var data = new Blob([text], {type: 'text/plain'});
	if (textFile !== null) {
	  window.URL.revokeObjectURL(textFile);
	}
	textFile = window.URL.createObjectURL(data);
	return textFile;
};


for (let i = 0; i < images.length; i++) {
	const image = images[i];
	image.addEventListener('click', () => {
		const imageLink = image.getAttribute('src');

		const textbox = document.getElementById('textbox');


    	const newValue = textbox.value.replace('REPLACETHIS', imageLink)

		var downloadLink = document.getElementById('downloadlink');
    	downloadLink.href = makeTextFile(newValue);
    	downloadLink.click();
	})
}
</script>

<style>
	.container {
		max-width: 600px;
		margin: 0 auto;
		display: flex;
		flex-a
	}

	.content {
		width: 100%;
	}

	.click-image {
		max-width: 600px;
		cursor: pointer;
	}


</style>
</body>
</html>

